<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CucuFood - Mi Perfil</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body id="profile-page">
    <header class="main-header">
        <a href="index.html" class="main-header__logo">CucuFood</a>
        <button id="menu-toggle" class="nav__toggle-btn" aria-label="Abrir/Cerrar menú de navegación">
            ☰
        </button>
        <nav class="main-nav">
            <a href="index.html">Inicio</a>
            <a href="topres.html">Top Restaurantes</a>
            <a href="perfil.html" class="active">Mi Perfil</a>
            <a href="login.html">Iniciar Sesión</a>
        </nav>
    </header>
    <main class="main-content">
        <section class="profile-page">
            <div class="container">
                <div class="profile-container">
                    <div class="profile-header">
                        <img src="assets/images/user-avatar.jpg" alt="Avatar de Usuario" class="profile-avatar">
                        <h2>Nombre del Usuario</h2>
                        <p class="text-color-light">correo@ejemplo.com</p>
                    </div>
                    <div class="profile-info">
                        <div class="profile-info-group">
                            <label>Nombre:</label>
                            <span id="profile-name-display">Juan Pérez</span>
                            <input type="text" id="profile-name-input" value="Juan Pérez" style="display: none;">
                        </div>
                        <div class="profile-info-group">
                            <label>Teléfono:</label>
                            <span id="profile-phone-display">300-123-4567</span>
                            <input type="text" id="profile-phone-input" value="300-123-4567" style="display: none;">
                        </div>
                        <div class="profile-info-group">
                            <label>Dirección:</label>
                            <span id="profile-address-display">Calle 10 # 15-20, Cúcuta</span>
                            <input type="text" id="profile-address-input" value="Calle 10 # 15-20, Cúcuta" style="display: none;">
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button id="edit-profile-btn" class="btn btn--primary">Editar Perfil</button>
                        <button id="save-profile-btn" class="btn btn--success" style="display: none;">Guardar Cambios</button>
                        <button id="cancel-edit-btn" class="btn btn--outline" style="display: none;">Cancelar</button>
                        <button id="change-password-btn" class="btn btn--secondary">Cambiar Contraseña</button>
                        <button id="logout-btn" class="btn btn--error">Cerrar Sesión</button>
                    </div>
                    <div id="profile-message" class="message-area"></div>
                </div>
            </div>
        </section>
    </main>
    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2023 CucuFood. Todos los derechos reservados. | <a href="#">Política de Privacidad</a> | <a href="#">Términos de Servicio</a></p>
        </div>
    </footer>
    <script src="js/main.js" type="module" defer></script>
</body>
</html>
    <script>
    // Simulación: cargar datos del usuario desde localStorage o variable global
    document.addEventListener('DOMContentLoaded', function() {
        let usuario = JSON.parse(localStorage.getItem('usuarioActivo')) || { nombre: 'Usuario', email: 'correo@ejemplo.com' };
        // Cargar foto de perfil si existe
        if (usuario.fotoPerfil) {
            document.getElementById('profile-foto').src = usuario.fotoPerfil;
            document.getElementById('profile-foto').classList.remove('hidden');
            document.getElementById('profile-icon').classList.add('hidden');
        } else {
            document.getElementById('profile-foto').classList.add('hidden');
            document.getElementById('profile-icon').classList.remove('hidden');
        }
        document.getElementById('profile-nombre').textContent = usuario.nombre || 'Usuario';
        document.getElementById('profile-correo').textContent = usuario.email || 'correo@ejemplo.com';
        document.getElementById('input-nombre').value = usuario.nombre || '';
        document.getElementById('input-correo').value = usuario.email || '';
        document.getElementById('guardar-perfil').onclick = function() {
            usuario.nombre = document.getElementById('input-nombre').value;
            usuario.email = document.getElementById('input-correo').value;
            localStorage.setItem('usuarioActivo', JSON.stringify(usuario));
            document.getElementById('profile-nombre').textContent = usuario.nombre;
            document.getElementById('profile-correo').textContent = usuario.email;
            alert('Perfil actualizado');
        };
        // Manejar carga de foto de perfil
        document.getElementById('input-foto').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(evt) {
                    usuario.fotoPerfil = evt.target.result;
                    localStorage.setItem('usuarioActivo', JSON.stringify(usuario));
                    document.getElementById('profile-foto').src = usuario.fotoPerfil;
                    document.getElementById('profile-foto').classList.remove('hidden');
                    document.getElementById('profile-icon').classList.add('hidden');
                };
                reader.readAsDataURL(file);
            }
        });
    });
    </script>
</body>
</html>
